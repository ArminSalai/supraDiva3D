var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_raf,_request,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_limitCallbacks,_creatingMedia,_lastMediaTick,_refreshingAll,_startup=1,_proxies=[],_scrollers=[],_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=1,_passThrough=function(e){return e},_round=function(e){return Math.round(1e5*e)/1e5||0},_windowExists=function(){return"undefined"!=typeof window},_getGSAP=function(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function(e){return!!~_root.indexOf(e)},_getProxyProp=function(e,r){return~_proxies.indexOf(e)&&_proxies[_proxies.indexOf(e)+1][r]},_getScrollFunc=function(e,r){var t=r.s,i=r.sc,n=_scrollers.indexOf(e),o=i===_vertical.sc?1:2;return!~n&&(n=_scrollers.push(e)-1),_scrollers[n+o]||(_scrollers[n+o]=_getProxyProp(e,t)||(_isViewport(e)?i:function(r){return arguments.length?e[t]=r:e[t]}))},_getBoundsFunc=function(e){return _getProxyProp(e,"getBoundingClientRect")||(_isViewport(e)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds(e)})},_getSizeFunc=function(e,r,t){var i=t.d,n=t.d2,o=t.a;return(o=_getProxyProp(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(r?_win["inner"+n]:e["client"+n])||0}},_getOffsetsFunc=function(e,r){return!r||~_proxies.indexOf(e)?_getBoundsFunc(e):function(){return _winOffsets}},_maxScroll=function(e,r){var t=r.s,i=r.d2,n=r.d,o=r.a;return(t="scroll"+i)&&(o=_getProxyProp(e,t))?o()-_getBoundsFunc(e)()[n]:_isViewport(e)?Math.max(_docEl[t],_body[t])-(_win["inner"+i]||_docEl["client"+i]||_body["client"+i]):e[t]-e["offset"+i]},_iterateAutoRefresh=function(e,r){for(var t=0;t<_autoRefresh.length;t+=3)(!r||~r.indexOf(_autoRefresh[t+1]))&&e(_autoRefresh[t],_autoRefresh[t+1],_autoRefresh[t+2])},_isString=function(e){return"string"==typeof e},_isFunction=function(e){return"function"==typeof e},_isNumber=function(e){return"number"==typeof e},_isObject=function(e){return"object"==typeof e},_callIfFunc=function(e){return _isFunction(e)&&e()},_combineFunc=function(e,r){return function(){var t=_callIfFunc(e),i=_callIfFunc(r);return function(){_callIfFunc(t),_callIfFunc(i)}}},_abs=Math.abs,_scrollLeft="scrollLeft",_scrollTop="scrollTop",_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_horizontal={s:_scrollLeft,p:_left,p2:_Left,os:_right,os2:_Right,d:_width,d2:_Width,a:"x",sc:function(e){return arguments.length?_win.scrollTo(e,_vertical.sc()):_win.pageXOffset||_doc[_scrollLeft]||_docEl[_scrollLeft]||_body[_scrollLeft]||0}},_vertical={s:_scrollTop,p:_top,p2:_Top,os:_bottom,os2:_Bottom,d:_height,d2:_Height,a:"y",op:_horizontal,sc:function(e){return arguments.length?_win.scrollTo(_horizontal.sc(),e):_win.pageYOffset||_doc[_scrollTop]||_docEl[_scrollTop]||_body[_scrollTop]||0}},_getComputedStyle=function(e){return _win.getComputedStyle(e)},_makePositionable=function(e){var r=_getComputedStyle(e).position;e.style.position="absolute"===r||"fixed"===r?r:"relative"},_setDefaults=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},_getBounds=function(e,r){var t=r&&"matrix(1, 0, 0, 1, 0, 0)"!==_getComputedStyle(e)[_transformProp]&&gsap.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return t&&t.progress(0).kill(),i},_getSize=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},_getLabelRatioArray=function(e){var r,t=[],i=e.labels,n=e.duration();for(r in i)t.push(i[r]/n);return t},_getClosestLabel=function(e){return function(r){return gsap.utils.snap(_getLabelRatioArray(e),r)}},_getLabelAtDirection=function(e){return function(r,t){var i,n=_getLabelRatioArray(e);if(n.sort(function(e,r){return e-r}),t.direction>0){for(r-=1e-4,i=0;i<n.length;i++)if(n[i]>=r)return n[i];return n.pop()}for(i=n.length,r+=1e-4;i--;)if(n[i]<=r)return n[i];return n[0]}},_multiListener=function(e,r,t,i){return t.split(",").forEach(function(t){return e(r,t,i)})},_addListener=function(e,r,t){return e.addEventListener(r,t,{passive:!0})},_removeListener=function(e,r,t){return e.removeEventListener(r,t)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function(e,r){if(_isString(e)){var t=e.indexOf("="),i=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(i*=r/100),e=e.substr(0,t-1)),e=i+(e in _keywords?_keywords[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},_createMarker=function(e,r,t,i,n,o,s){var a=n.startColor,_=n.endColor,l=n.fontSize,c=n.indent,d=n.fontWeight,p=_doc.createElement("div"),g=_isViewport(t)||"fixed"===_getProxyProp(t,"pinType"),u=-1!==e.indexOf("scroller"),f=g?_body:t,h=-1!==e.indexOf("start"),m=h?a:_,v="border-color:"+m+";font-size:"+l+";color:"+m+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return v+="position:"+(u&&g?"fixed;":"absolute;"),(u||!g)&&(v+=(i===_vertical?_right:_bottom)+":"+(o+parseFloat(c))+"px;"),s&&(v+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=h,p.setAttribute("class","gsap-marker-"+e),p.style.cssText=v,p.innerText=r||0===r?e+"-"+r:e,f.children[0]?f.insertBefore(p,f.children[0]):f.appendChild(p),p._offset=p["offset"+i.op.d2],_positionMarker(p,0,i,h),p},_positionMarker=function(e,r,t,i){var n={display:"block"},o=t[i?"os2":"p2"],s=t[i?"p2":"os2"];e._isFlipped=i,n[t.a+"Percent"]=i?-100:0,n[t.a]=i?"1px":0,n["border"+o+_Width]=1,n["border"+s+_Width]=0,n[t.p]=r+"px",gsap.set(e,n)},_triggers=[],_ids={},_sync=function(){return _request||(_request=_raf(_updateAll))},_onScroll=function(){_request||(_request=_raf(_updateAll),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_onResize=function(){return!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_media=[],_onMediaChange=function(e){var r,t=gsap.ticker.frame,i=[],n=0;if(_lastMediaTick!==t||_startup){for(_revertAll();n<_media.length;n+=4)(r=_win.matchMedia(_media[n]).matches)!==_media[n+3]&&(_media[n+3]=r,r?i.push(n):_revertAll(1,_media[n])||_isFunction(_media[n+2])&&_media[n+2]());for(_revertRecorded(),n=0;n<i.length;n++)r=i[n],_creatingMedia=_media[r],_media[r+2]=_media[r+1](e);_creatingMedia=0,_coreInitted&&_refreshAll(0,1),_lastMediaTick=t,_dispatch("matchMedia")}},_softRefresh=function e(){return _removeListener(ScrollTrigger,"scrollEnd",e)||_refreshAll(!0)},_dispatch=function(e){return _listeners[e]&&_listeners[e].map(function(e){return e()})||_emptyArray},_savedStyles=[],_revertRecorded=function(e){for(var r=0;r<_savedStyles.length;r+=5)e&&_savedStyles[r+4]!==e||(_savedStyles[r].style.cssText=_savedStyles[r+1],_savedStyles[r].getBBox&&_savedStyles[r].setAttribute("transform",_savedStyles[r+2]||""),_savedStyles[r+3].uncache=1)},_revertAll=function(e,r){var t;for(_i=0;_i<_triggers.length;_i++)t=_triggers[_i],r&&t.media!==r||(e?t.kill(1):t.revert());r&&_revertRecorded(r),r||_dispatch("revert")},_refreshAll=function(e,r){if(!_lastScrollTime||e){_refreshingAll=!0;var t=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),r||_revertAll(),_triggers.forEach(function(e){return e.refresh()}),t.forEach(function(e){return e&&e.render&&e.render(-1)}),_scrollers.forEach(function(e){return"function"==typeof e&&(e.rec=0)}),_resizeDelay.pause(),_refreshingAll=!1,_dispatch("refresh")}else _addListener(ScrollTrigger,"scrollEnd",_softRefresh)},_lastScroll=0,_direction=1,_updateAll=function(){if(!_refreshingAll){var e=_triggers.length,r=_getTime(),t=r-_time1>=50,i=e&&_triggers[0].scroll();if(_direction=_lastScroll>i?-1:1,_lastScroll=i,t&&(_lastScrollTime&&!_pointerIsDown&&r-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=r),_direction<0){for(_i=e;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,t);_direction=1}else for(_i=0;_i<e;_i++)_triggers[_i]&&_triggers[_i].update(0,t);_request=0}},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","grid-column-start","grid-column-end","grid-row-start","grid-row-end","grid-area","justify-self","align-self","place-self"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function(e,r,t){if(_setState(t),e.parentNode===r){var i=r.parentNode;i&&(i.insertBefore(e,r),i.removeChild(r))}},_swapPinIn=function(e,r,t,i){if(e.parentNode!==r){for(var n,o=_propNamesToCopy.length,s=r.style,a=e.style;o--;)s[n=_propNamesToCopy[o]]=t[n];s.position="absolute"===t.position?"absolute":"relative","inline"===t.display&&(s.display="inline-block"),a[_bottom]=a[_right]="auto",s.overflow="visible",s.boxSizing="border-box",s[_width]=_getSize(e,_horizontal)+_px,s[_height]=_getSize(e,_vertical)+_px,s[_padding]=a[_margin]=a[_top]=a[_left]="0",_setState(i),a[_width]=a["max"+_Width]=t[_width],a[_height]=a["max"+_Height]=t[_height],a[_padding]=t[_padding],e.parentNode.insertBefore(r,e),r.appendChild(e)}},_capsExp=/([A-Z])/g,_setState=function(e){if(e){var r,t,i=e.t.style,n=e.length,o=0;for((e.t._gsap||gsap.core.getCache(e.t)).uncache=1;o<n;o+=2)t=e[o+1],r=e[o],t?i[r]=t:i[r]&&i.removeProperty(r.replace(_capsExp,"-$1").toLowerCase())}},_getState=function(e){for(var r=_stateProps.length,t=e.style,i=[],n=0;n<r;n++)i.push(_stateProps[n],t[_stateProps[n]]);return i.t=e,i},_copyState=function(e,r,t){for(var i,n=[],o=e.length,s=t?8:0;s<o;s+=2)i=e[s],n.push(i,i in r?r[i]:e[s+1]);return n.t=e.t,n},_winOffsets={left:0,top:0},_parsePosition=function(e,r,t,i,n,o,s,a,_,l,c,d){if(_isFunction(e)&&(e=e(a)),_isString(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?_offsetToPx("0"+e.substr(3),t):0)),_isNumber(e))s&&_positionMarker(s,t,i,!0);else{_isFunction(r)&&(r=r(a));var p,g,u,f=_toArray(r)[0]||_body,h=_getBounds(f)||{},m=e.split(" ");h&&(h.left||h.top)||"none"!==_getComputedStyle(f).display||(u=f.style.display,f.style.display="block",h=_getBounds(f),u?f.style.display=u:f.style.removeProperty("display")),p=_offsetToPx(m[0],h[i.d]),g=_offsetToPx(m[1]||"0",t),e=h[i.p]-_[i.p]-l+p+n-g,s&&_positionMarker(s,g,i,t-g<20||s._isStart&&g>20),t-=t-g}if(o){var v=e+t,y=o._isStart;d="scroll"+i.d2,_positionMarker(o,v,i,y&&v>20||!y&&(c?Math.max(_body[d],_docEl[d]):o.parentNode[d])<=v+1),c&&(_=_getBounds(s),c&&(o.style[i.op.p]=_[i.op.p]-i.op.m-o._offset+_px))}return Math.round(e)},_prefixExp=/(?:webkit|moz|length|cssText|inset)/i,_reparent=function(e,r,t,i){if(e.parentNode!==r){var n,o,s=e.style;if(r===_body){for(n in e._stOrig=s.cssText,o=_getComputedStyle(e))+n||_prefixExp.test(n)||!o[n]||"string"!=typeof s[n]||"0"===n||(s[n]=o[n]);s.top=t,s.left=i}else s.cssText=e._stOrig;gsap.core.getCache(e).uncache=1,r.appendChild(e)}},_getTweenCreator=function(e,r){var t,i,n=_getScrollFunc(e,r),o="_scroll"+r.p2,s=function r(s,a,_,l,c){var d=r.tween,p=a.onComplete,g={};return d&&d.kill(),t=Math.round(_),a[o]=s,a.modifiers=g,g[o]=function(e){return(e=_round(n()))!==t&&e!==i&&Math.abs(e-t)>2?(d.kill(),r.tween=0):e=_+l*d.ratio+c*d.ratio*d.ratio,i=t,t=_round(e)},a.onComplete=function(){r.tween=0,p&&p.call(d)},d=r.tween=gsap.to(e,a)};return e[o]=n,e.addEventListener("wheel",function(){return s.tween&&s.tween.kill()&&(s.tween=0)},{passive:!0}),s};_horizontal.op=_vertical;export var ScrollTrigger=function(){function e(r,t){_coreInitted||e.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(r,t)}return e.prototype.init=function(r,t){if(this.progress=this.start=0,this.vars&&this.kill(1),_enabled){var i,n,o,s,a,_,l,c,d,p,g,u,f,h,m,v,y,x,b,S,w,T,P,A,C,k,L,R,M,O,E,z,F,I,B,D,N=(r=_setDefaults(_isString(r)||_isNumber(r)||r.nodeType?{trigger:r}:r,_defaults)).horizontal?_horizontal:_vertical,W=r,H=W.onUpdate,q=W.toggleClass,V=W.id,j=W.onToggle,G=W.onRefresh,X=W.scrub,Y=W.trigger,U=W.pin,Z=W.pinSpacing,$=W.invalidateOnRefresh,J=W.anticipatePin,K=W.onScrubComplete,Q=W.onSnapComplete,ee=W.once,re=W.snap,te=W.pinReparent,ie=!X&&0!==X,ne=_toArray(r.scroller||_win)[0],oe=gsap.core.getCache(ne),se=_isViewport(ne),ae="pinType"in r?"fixed"===r.pinType:se||"fixed"===_getProxyProp(ne,"pinType"),_e=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],le=ie&&r.toggleActions.split(" "),ce="markers"in r?r.markers:_defaults.markers,de=se?0:parseFloat(_getComputedStyle(ne)["border"+N.p2+_Width])||0,pe=this,ge=r.onRefreshInit&&function(){return r.onRefreshInit(pe)},ue=_getSizeFunc(ne,se,N),fe=_getOffsetsFunc(ne,se),he=0;pe.media=_creatingMedia,J*=45,pe.scroller=ne,pe.scroll=_getScrollFunc(ne,N),s=pe.scroll(),pe.vars=r,t=t||r.animation,"refreshPriority"in r&&(_sort=1),oe.tweenScroll=oe.tweenScroll||{top:_getTweenCreator(ne,_vertical),left:_getTweenCreator(ne,_horizontal)},pe.tweenTo=i=oe.tweenScroll[N.p],t&&(t.vars.lazy=!1,t._initted||!1!==t.vars.immediateRender&&!1!==r.immediateRender&&t.render(0,!0,!0),pe.animation=t.pause(),t.scrollTrigger=pe,(E=_isNumber(X)&&X)&&(O=gsap.to(t,{ease:"power3",duration:E,onComplete:function(){return K&&K(pe)}})),R=0,V||(V=t.vars.id)),_triggers.push(pe),re&&(_isObject(re)&&!re.push||(re={snapTo:re}),"scrollBehavior"in _body.style&&gsap.set(se?[_body,_docEl]:ne,{scrollBehavior:"auto"}),o=_isFunction(re.snapTo)?re.snapTo:"labels"===re.snapTo?_getClosestLabel(t):"labelsDirectional"===re.snapTo?_getLabelAtDirection(t):gsap.utils.snap(re.snapTo),z=re.duration||{min:.1,max:2},z=_isObject(z)?_clamp(z.min,z.max):_clamp(z,z),F=gsap.delayedCall(re.delay||E/2||.1,function(){if(Math.abs(pe.getVelocity())<10&&!_pointerIsDown&&he!==pe.scroll()){var e=t&&!ie?t.totalProgress():pe.progress,r=(e-M)/(_getTime()-_time2)*1e3||0,n=gsap.utils.clamp(-pe.progress,1-pe.progress,_abs(r/2)*r/.185),s=pe.progress+(!1===re.inertia?0:n),a=_clamp(0,1,o(s,pe)),c=pe.scroll(),d=Math.round(_+a*f),p=re,g=p.onStart,u=p.onInterrupt,h=p.onComplete,m=i.tween;if(c<=l&&c>=_&&d!==c){if(m&&!m._initted&&m.data<=Math.abs(d-c))return;!1===re.inertia&&(n=a-pe.progress),i(d,{duration:z(_abs(.185*Math.max(_abs(s-e),_abs(a-e))/r/.05||0)),ease:re.ease||"power3",data:Math.abs(d-c),onInterrupt:function(){return F.restart(!0)&&u&&u(pe)},onComplete:function(){he=pe.scroll(),R=M=t&&!ie?t.totalProgress():pe.progress,Q&&Q(pe),h&&h(pe)}},c,n*f,d-c-n*f),g&&g(pe,i.tween)}}else pe.isActive&&F.restart(!0)}).pause()),V&&(_ids[V]=pe),Y=pe.trigger=_toArray(Y||U)[0],U=!0===U?Y:_toArray(U)[0],_isString(q)&&(q={targets:Y,className:q}),U&&(!1===Z||Z===_margin||(Z=!(!Z&&"flex"===_getComputedStyle(U.parentNode).display)&&_padding),pe.pin=U,!1!==r.force3D&&gsap.set(U,{force3D:!0}),(n=gsap.core.getCache(U)).spacer?h=n.pinState:(n.spacer=y=_doc.createElement("div"),y.setAttribute("class","pin-spacer"+(V?" pin-spacer-"+V:"")),n.pinState=h=_getState(U)),pe.spacer=y=n.spacer,L=_getComputedStyle(U),P=L[Z+N.os2],b=gsap.getProperty(U),S=gsap.quickSetter(U,N.a,_px),_swapPinIn(U,y,L),v=_getState(U)),ce&&(u=_isObject(ce)?_setDefaults(ce,_markerDefaults):_markerDefaults,p=_createMarker("scroller-start",V,ne,N,u,0),g=_createMarker("scroller-end",V,ne,N,u,0,p),x=p["offset"+N.op.d2],c=_createMarker("start",V,ne,N,u,x),d=_createMarker("end",V,ne,N,u,x),ae||_proxies.length&&!0===_getProxyProp(ne,"fixedMarkers")||(_makePositionable(se?_body:ne),gsap.set([p,g],{force3D:!0}),C=gsap.quickSetter(p,N.a,_px),k=gsap.quickSetter(g,N.a,_px))),pe.revert=function(e){var r=!1!==e||!pe.enabled,i=_refreshing;r!==pe.isReverted&&(r&&(pe.scroll.rec||(pe.scroll.rec=pe.scroll()),B=Math.max(pe.scroll(),pe.scroll.rec||0),I=pe.progress,D=t&&t.progress()),c&&[c,d,p,g].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(_refreshing=1),pe.update(r),_refreshing=i,U&&(r?_swapPinOut(U,y,h):(!te||!pe.isActive)&&_swapPinIn(U,y,_getComputedStyle(U),A)),pe.isReverted=r)},pe.refresh=function(i,n){if(!_refreshing&&pe.enabled||n)if(U&&i&&_lastScrollTime)_addListener(e,"scrollEnd",_softRefresh);else{_refreshing=1,O&&O.pause(),$&&t&&t.progress(0).invalidate(),pe.isReverted||pe.revert();for(var o,u,x,S,P,C,k,L,R,M,E=ue(),z=fe(),F=_maxScroll(ne,N),W=0,H=0,q=r.end,V=r.endTrigger||Y,j=r.start||(0!==r.start&&Y?U?"0 0":"0 100%":0),X=r.pinnedContainer&&_toArray(r.pinnedContainer)[0],J=Y&&Math.max(0,_triggers.indexOf(pe))||0,K=J;K--;)(C=_triggers[K]).end||C.refresh(0,1)||(_refreshing=1),!(k=C.pin)||k!==Y&&k!==U||C.isReverted||(M||(M=[]),M.unshift(C),C.revert());for(_=_parsePosition(j,Y,E,N,pe.scroll(),c,p,pe,z,de,ae,F)||(U?-.001:0),_isFunction(q)&&(q=q(pe)),_isString(q)&&!q.indexOf("+=")&&(~q.indexOf(" ")?q=(_isString(j)?j.split(" ")[0]:"")+q:(W=_offsetToPx(q.substr(2),E),q=_isString(j)?j:_+W,V=Y)),l=Math.max(_,_parsePosition(q||(V?"100% 0":F),V,E,N,pe.scroll()+W,d,g,pe,z,de,ae,F))||-.001,f=l-_||(_-=.01)&&.001,W=0,K=J;K--;)(k=(C=_triggers[K]).pin)&&C.start-C._pinPush<_&&(o=C.end-C.start,(k===Y||k===X)&&(W+=o),k===U&&(H+=o));if(_+=W,l+=W,pe._pinPush=H,c&&W&&((o={})[N.a]="+="+W,X&&(o[N.p]="-="+pe.scroll()),gsap.set([c,d],o)),U)o=_getComputedStyle(U),S=N===_vertical,x=pe.scroll(),w=parseFloat(b(N.a))+H,!F&&l>1&&((se?_body:ne).style["overflow-"+N.a]="scroll"),_swapPinIn(U,y,o),v=_getState(U),u=_getBounds(U,!0),L=ae&&_getScrollFunc(ne,S?_horizontal:_vertical)(),Z&&((A=[Z+N.os2,f+H+_px]).t=y,(K=Z===_padding?_getSize(U,N)+f+H:0)&&A.push(N.d,K+_px),_setState(A),ae&&pe.scroll(B)),ae&&((P={top:u.top+(S?x-_:L)+_px,left:u.left+(S?L:x-_)+_px,boxSizing:"border-box",position:"fixed"})[_width]=P["max"+_Width]=Math.ceil(u.width)+_px,P[_height]=P["max"+_Height]=Math.ceil(u.height)+_px,P[_margin]=P[_margin+_Top]=P[_margin+_Right]=P[_margin+_Bottom]=P[_margin+_Left]="0",P[_padding]=o[_padding],P[_padding+_Top]=o[_padding+_Top],P[_padding+_Right]=o[_padding+_Right],P[_padding+_Bottom]=o[_padding+_Bottom],P[_padding+_Left]=o[_padding+_Left],m=_copyState(h,P,te)),t?(R=t._initted,_suppressOverwrites(1),t.render(t.duration(),!0,!0),T=b(N.a)-w+f+H,f!==T&&m.splice(m.length-2,2),t.render(0,!0,!0),R||t.invalidate(),_suppressOverwrites(0)):T=f;else if(Y&&pe.scroll())for(u=Y.parentNode;u&&u!==_body;)u._pinOffset&&(_-=u._pinOffset,l-=u._pinOffset),u=u.parentNode;M&&M.forEach(function(e){return e.revert(!1)}),pe.start=_,pe.end=l,(s=a=pe.scroll())<B&&pe.scroll(B),pe.revert(!1),_refreshing=0,t&&ie&&t._initted&&t.progress()!==D&&t.progress(D,!0).render(t.time(),!0,!0),I!==pe.progress&&(O&&t.totalProgress(I,!0),pe.progress=I,pe.update()),U&&Z&&(y._pinOffset=Math.round(pe.progress*T)),G&&G(pe)}},pe.getVelocity=function(){return(pe.scroll()-a)/(_getTime()-_time2)*1e3||0},pe.update=function(e,r){var n,o,c,d,g,u=pe.scroll(),h=e?0:(u-_)/f,x=h<0?0:h>1?1:h||0,b=pe.progress;if(r&&(a=s,s=u,re&&(M=R,R=t&&!ie?t.totalProgress():x)),J&&!x&&U&&!_refreshing&&!_startup&&_lastScrollTime&&_<u+(u-a)/(_getTime()-_time2)*J&&(x=1e-4),x!==b&&pe.enabled){if(d=(g=(n=pe.isActive=!!x&&x<1)!==(!!b&&b<1))||!!x!=!!b,pe.direction=x>b?1:-1,pe.progress=x,ie||(!O||_refreshing||_startup?t&&t.totalProgress(x,!!_refreshing):(O.vars.totalProgress=x,O.invalidate().restart())),U)if(e&&Z&&(y.style[Z+N.os2]=P),ae){if(d){if(c=!e&&x>b&&l+1>u&&u+1>=_maxScroll(ne,N),te)if(e||!n&&!c)_reparent(U,y);else{var A=_getBounds(U,!0),L=u-_;_reparent(U,_body,A.top+(N===_vertical?L:0)+_px,A.left+(N===_vertical?0:L)+_px)}_setState(n||c?m:v),T!==f&&x<1&&n||S(w+(1!==x||c?0:T))}}else S(w+T*x);re&&!i.tween&&!_refreshing&&!_startup&&F.restart(!0),q&&(g||ee&&x&&(x<1||!_limitCallbacks))&&_toArray(q.targets).forEach(function(e){return e.classList[n||ee?"add":"remove"](q.className)}),H&&!ie&&!e&&H(pe),d&&!_refreshing?(o=x&&!b?0:1===x?1:1===b?2:3,ie&&(c=!g&&"none"!==le[o+1]&&le[o+1]||le[o],t&&("complete"===c||"reset"===c||c in t)&&("complete"===c?t.pause().totalProgress(1):"reset"===c?t.restart(!0).pause():"restart"===c?t.restart(!0):t[c]()),H&&H(pe)),!g&&_limitCallbacks||(j&&g&&j(pe),_e[o]&&_e[o](pe),ee&&(1===x?pe.kill(!1,1):_e[o]=0),g||_e[o=1===x?1:3]&&_e[o](pe))):ie&&H&&!_refreshing&&H(pe)}k&&(C(u+(p._isFlipped?1:0)),k(u))},pe.enable=function(r,t){pe.enabled||(pe.enabled=!0,_addListener(ne,"resize",_onResize),_addListener(ne,"scroll",_onScroll),ge&&_addListener(e,"refreshInit",ge),!1!==r&&(pe.progress=I=0,s=a=he=pe.scroll()),!1!==t&&pe.refresh())},pe.getTween=function(e){return e&&i?i.tween:O},pe.disable=function(r,t){if(pe.enabled&&(!1!==r&&pe.revert(),pe.enabled=pe.isActive=!1,t||O&&O.pause(),B=0,n&&(n.uncache=1),ge&&_removeListener(e,"refreshInit",ge),F&&(F.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!se)){for(var o=_triggers.length;o--;)if(_triggers[o].scroller===ne&&_triggers[o]!==pe)return;_removeListener(ne,"resize",_onResize),_removeListener(ne,"scroll",_onScroll)}},pe.kill=function(e,r){pe.disable(e,r),V&&delete _ids[V];var i=_triggers.indexOf(pe);_triggers.splice(i,1),i===_i&&_direction>0&&_i--,i=0,_triggers.forEach(function(e){return e.scroller===pe.scroller&&(i=1)}),i||(pe.scroll.rec=0),t&&(t.scrollTrigger=null,e&&t.render(-1),r||t.kill()),c&&[c,d,p,g].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),U&&(n&&(n.uncache=1),i=0,_triggers.forEach(function(e){return e.pin===U&&i++}),i||(n.spacer=0))},pe.enable(!1,!1),t&&t.add&&!f?gsap.delayedCall(.01,function(){return _||l||pe.refresh()})&&(f=.01)&&(_=l=0):pe.refresh()}else this.update=this.refresh=this.kill=_passThrough},e.register=function(r){if(!_coreInitted&&(gsap=r||_getGSAP(),_windowExists()&&window.document&&(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body),gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,gsap.core.globals("ScrollTrigger",e),_body))){_raf=_win.requestAnimationFrame||function(e){return setTimeout(e,16)},_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],_addListener(_doc,"scroll",_onScroll);var t,i=_body.style,n=i.borderTop;i.borderTop="1px solid #000",t=_getBounds(_body),_vertical.m=Math.round(t.top+_vertical.sc())||0,_horizontal.m=Math.round(t.left+_horizontal.sc())||0,n?i.borderTop=n:i.removeProperty("border-top"),_syncInterval=setInterval(_sync,200),gsap.delayedCall(.5,function(){return _startup=0}),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",function(){return _pointerIsDown=1}),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",function(){return _pointerIsDown=0}),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var e=_win.innerWidth,r=_win.innerHeight;_doc.hidden?(_prevWidth=e,_prevHeight=r):_prevWidth===e&&_prevHeight===r||_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",function(){return _lastScrollTime||_refreshAll()},_win,"resize",_onResize],_iterateAutoRefresh(_addListener)}return _coreInitted},e.defaults=function(e){for(var r in e)_defaults[r]=e[r]},e.kill=function(){_enabled=0,_triggers.slice(0).forEach(function(e){return e.kill(1)})},e.config=function(e){"limitCallbacks"in e&&(_limitCallbacks=!!e.limitCallbacks);var r=e.syncInterval;r&&clearInterval(_syncInterval)||(_syncInterval=r)&&setInterval(_sync,r),"autoRefreshEvents"in e&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,e.autoRefreshEvents||"none"),_ignoreResize=-1===(e.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,r){var t=_toArray(e)[0],i=_scrollers.indexOf(t),n=_isViewport(t);~i&&_scrollers.splice(i,n?6:2),n?_proxies.unshift(_win,r,_body,r,_docEl,r):_proxies.unshift(t,r)},e.matchMedia=function(e){var r,t,i,n,o;for(t in e)i=_media.indexOf(t),n=e[t],_creatingMedia=t,"all"===t?n():(r=_win.matchMedia(t))&&(r.matches&&(o=n()),~i?(_media[i+1]=_combineFunc(_media[i+1],n),_media[i+2]=_combineFunc(_media[i+2],o)):(i=_media.length,_media.push(t,n,o),r.addListener?r.addListener(_onMediaChange):r.addEventListener("change",_onMediaChange)),_media[i+3]=r.matches),_creatingMedia=0;return _media},e.clearMatchMedia=function(e){e||(_media.length=0),(e=_media.indexOf(e))>=0&&_media.splice(e,4)},e}();ScrollTrigger.version="3.7.1",ScrollTrigger.saveStyles=function(e){return e?_toArray(e).forEach(function(e){if(e&&e.style){var r=_savedStyles.indexOf(e);r>=0&&_savedStyles.splice(r,5),_savedStyles.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),gsap.core.getCache(e),_creatingMedia)}}):_savedStyles},ScrollTrigger.revert=function(e,r){return _revertAll(!e,r)},ScrollTrigger.create=function(e,r){return new ScrollTrigger(e,r)},ScrollTrigger.refresh=function(e){return e?_onResize():_refreshAll(!0)},ScrollTrigger.update=_updateAll,ScrollTrigger.maxScroll=function(e,r){return _maxScroll(e,r?_horizontal:_vertical)},ScrollTrigger.getScrollFunc=function(e,r){return _getScrollFunc(_toArray(e)[0],r?_horizontal:_vertical)},ScrollTrigger.getById=function(e){return _ids[e]},ScrollTrigger.getAll=function(){return _triggers.slice(0)},ScrollTrigger.isScrolling=function(){return!!_lastScrollTime},ScrollTrigger.addEventListener=function(e,r){var t=_listeners[e]||(_listeners[e]=[]);~t.indexOf(r)||t.push(r)},ScrollTrigger.removeEventListener=function(e,r){var t=_listeners[e],i=t&&t.indexOf(r);i>=0&&t.splice(i,1)},ScrollTrigger.batch=function(e,r){var t,i=[],n={},o=r.interval||.016,s=r.batchMax||1e9,a=function(e,r){var t=[],i=[],n=gsap.delayedCall(o,function(){r(t,i),t=[],i=[]}).pause();return function(e){t.length||n.restart(!0),t.push(e.trigger),i.push(e),s<=t.length&&n.progress(1)}};for(t in r)n[t]="on"===t.substr(0,2)&&_isFunction(r[t])&&"onRefreshInit"!==t?a(0,r[t]):r[t];return _isFunction(s)&&(s=s(),_addListener(ScrollTrigger,"refresh",function(){return s=r.batchMax()})),_toArray(e).forEach(function(e){var r={};for(t in n)r[t]=n[t];r.trigger=e,i.push(ScrollTrigger.create(r))}),i},ScrollTrigger.sort=function(e){return _triggers.sort(e||function(e,r){return-1e6*(e.vars.refreshPriority||0)+e.start-(r.start+-1e6*(r.vars.refreshPriority||0))})},_getGSAP()&&gsap.registerPlugin(ScrollTrigger);export{ScrollTrigger as default};